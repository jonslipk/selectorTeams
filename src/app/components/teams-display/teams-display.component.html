<div class="display-container">
  <!-- CronÃ´metro -->
  <div class="timer-section" *ngIf="teams.length > 0">
    <div class="timer-display">
      <h2>â±ï¸ Tempo de Jogo</h2>
      <div class="timer-value">{{ formattedTime }}</div>
      <div class="timer-buttons">
        <button (click)="toggleTimer()" [class.playing]="isRunning" class="btn-timer-toggle">
          {{ isRunning ? 'â¸ï¸ Pausar' : 'â–¶ï¸ Iniciar' }}
        </button>
        <button (click)="resetTimer()" class="btn-timer-reset">ğŸ”„ Resetar</button>
      </div>
    </div>
  </div>



  <h2>Times Montados</h2>
  <div class="teams-grid" *ngIf="teams.length > 0">
    <div class="team-card" *ngFor="let team of teams">
      <div class="team-content">
        <h2>{{ team.name }}</h2>
        <div class="team-stats">
          <div class="stat-item">
            <label for="goals-{{ team.name }}">âš½ Gols:</label>
            <input
              [id]="'goals-' + team.name"
              type="number"
              [value]="getGoals(team)"
              (change)="onGoalsChange(team, $event)"
              min="0"
              class="goals-input"
              readonly>
          </div>
          <button
            (click)="setWinner(team)"
            [disabled]="!canSetWinner(team)"
            class="btn-winner">
             ğŸ† Vencedor
          </button>
        </div>
        <div class="team-goalkeeper">
          <strong>ğŸ§¤ Goleiro:</strong>
          <p>{{ team.goalkeeper }}</p>
        </div>
        <div class="team-players">
          <strong>ğŸ‘¥ Jogadores:</strong>
          <ul>
            <li *ngFor="let player of team.players" [class.head-to-head-player]="isHeadToHead(player)">
              <span *ngIf="isHeadToHead(player)" class="star">â­</span>
              <span class="player-name">{{ player }}</span>
              <span class="action-badges" *ngIf="lastActionsByPlayer[player] && lastActionsByPlayer[player].length">
                <span *ngFor="let a of lastActionsByPlayer[player]" class="action-badge" [title]="a">{{ getActionIcon(a) }}</span>
              </span>
              <select name="details" id="details-select" (change)="selectDetails(player, $event)">
                <option value="">--</option>
                <option value="gol">âš½ Gol</option>
                <option value="ruim">âš ï¸ Jogada ruim</option>
                <option value="contra">âŒ Gol contra</option>
                <option value="passe">ğŸ…°ï¸ AssistÃªncia</option>
              </select>
              <button (click)="abrirModal(player)">ğŸ”„</button>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <div>
    &nbsp;
  </div>
  <!-- BotÃ£o de Empate -->
  <div class="draw-button-section" *ngIf="teams.length > 0">
    <button (click)="setDraw()" class="btn-draw" [class.active]="teams.length > 0 && teams[0]">
      {{ teams.length > 0 && teams[0] ? 'ğŸ¤ Empate Marcado' : 'ğŸ¤ Marcar Empate' }}
    </button>
  </div>
  <div *ngIf="teams.length === 0" class="empty-state">
    <p>Nenhum time foi montado ainda. Acesse a aba "SeleÃ§Ã£o de Jogadores" para gerar times.</p>
  </div>
</div>

<div class="modal-backdrop" *ngIf="modalAberto">
  <div class="modal">
    <h2>Substituir</h2>
            <div class="team-players">
          <strong>ğŸ‘¥ Jogadores:</strong>
          <ul>
            <li *ngFor="let reserva of remainingPlayers">
              {{ reserva }} <button (click)="changePlayer(reserva)" >ğŸ”„</button>
            </li>
          </ul>
        </div>
  </div>
</div>
